<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><!--meta(http-equiv="Content-Security-Policy", content="default-src 'self' ; style-src 'self' 'unsafe-inline' ; object-src 'none' ; img-src 'self' ; referrer no-referrer ;")--><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#ff8c00"><title>Landscapes in Virtual Reality</title><meta name="description" content="How to draw landscapes for virtual reality applications."><base href="http://gu.illau.me/posts/landscapes-in-virtual-reality/" target="_top"><link href="/css/main.css" rel="stylesheet"><script src="/js/analytics.js" defer async></script><script src="/js/ui.js" defer async></script><link href="/manifest.webmanifest" rel="manifest"><link href="http://feeds.feedburner.com/just-a-blog" rel="alternate" type="application/rss+xml" title="A blog by G.C. Marty"><link href="/favicon.ico" rel="shortcut icon" type="image/x-icon"></head><body><nav><h1 class="name"><a href="/">A blog<small> by G.C. Marty</small></a></h1><div style="display:none" class="menu icon-menu"></div><ul class="nav-links"><li class="text-link"><a href="/about.html">about</a></li><li class="text-link"><a href="/apps.html">apps</a></li><li class="text-link"><a href="/talks.html">talks</a></li><li class="text-link"><a href="/posts.html">posts</a></li></ul><div class="social-media"><a href="https://github.com/gmarty" class="icon-github"></a><a href="https://twitter.com/g_marty" class="icon-twitter"></a></div></nav><div class="content"><div class="post-head group"><a href="/posts/landscapes-in-virtual-reality/"><h1 class="post-title">Landscapes in Virtual Reality</h1></a><span class="post-date">2016/09/23</span><span class="post-reading-time"></span></div><div class="post-body markdown"><p>Lately I experimented with virtual reality (VR) using <a href="https://vr.google.com/cardboard/">Google Cardboard</a>, my mobile phone and the amazing <a href="https://aframe.io/">A-Frame</a> library.
I gave it a try at drawing myself VR landscapes. It turns out VR textures are a form of <a href="https://en.wikipedia.org/wiki/Anamorphosis">anamorphosis</a>. Some artists like Dali drew such projections. To reconstitute a normal image, you need a special device, in our case a VR environment.</p>
<h2><a name="what-i-learnt" class="anchor" href="#what-i-learnt"><span class="header-link"></span></a>What I learnt</h2>
<p>VR is an immersive technology. To feel yourself part of a VR landscape, we apply a texture to the sky (see the <code>&lt;a-sky&gt;</code> element in A-Frame. A texture is a simple image that is distorted to the inside of a sphere.</p>
<p>Drawing a landscape for such a projection is really counter-intuitive, but here are some of my findings.</p>
<h2><a name="equirectangular-projection" class="anchor" href="#equirectangular-projection"><span class="header-link"></span></a>Equirectangular projection</h2>
<p>The easiest way to get started with drawing your own landscapes for VR is to start with a image (or paper, canvas...) twice as large than high (once scanned, 4096 Ã— 2048 works pretty well).</p>
<p>In an <a href="https://en.wikipedia.org/wiki/Equirectangular_projection">equirectangular projection</a>, the top line of the image is distorted in such a way that it&#39;s merged in a single point. The same apply to the bottom. This means that the closer to the top or bottom an object is the smaller it will be rendered in the VR scene. its width will be squeezed.</p>
<p>The left and right sides of the image are merged together. To make it feel seamless, be sure to draw something that looks the same on both lateral sides or stitch lines may appear.</p>
<p><img src="http://gu.illau.me/img/landscapes-in-virtual-reality/ratio.jpg" alt="The ideal ratio for a VR landscape texture"></p>
<h2><a name="the-horizon-line" class="anchor" href="#the-horizon-line"><span class="header-link"></span></a>The horizon line</h2>
<p>If you draw a horizontal line right in the middle of the image, this is going to be rendered as your horizon line when you place the camera in the centre of the sphere.
You can play with it. Make it slightly higher and the user will feel that they&#39;re trapped in the group (or maybe surrounded by mountains), making the final result a bit suffocating.
If you lower the horizon line, the user will think they&#39;re flying.</p>
<p><img src="http://gu.illau.me/img/landscapes-in-virtual-reality/horizon-line.jpg" alt="The horizon line in VR"></p>
<h2><a name="4-sides" class="anchor" href="#4-sides"><span class="header-link"></span></a>4 sides</h2>
<p>Your field of view fits in roughly 1/4 of the image width. If you draw a single element larger than 1/4 of the width, it will force the user to look left and right to see it entirely, without being able to see it completely at once.
Be creative with it. Big elements like monuments or mountains should be larger than 1/4 of the width. Smaller elements like vehicles or trees should be much smaller.</p>
<p><img src="http://gu.illau.me/img/landscapes-in-virtual-reality/4-sides.jpg" alt="The 4 sides of the user"></p>
<h2><a name="sphere-in-the-sky" class="anchor" href="#sphere-in-the-sky"><span class="header-link"></span></a>Sphere in the sky</h2>
<p>As explained above, the equirectangular projection will merge the top of the image to a single point. If you want to draw a circular object right above the user, draw a stripe going from the top of the image on a small fraction of the height. This will render as a perfect circle if the line is parallel to the top of the image.
Of course this principle applies to the bottom of the image too.</p>
<p><img src="http://gu.illau.me/img/landscapes-in-virtual-reality/sun.jpg" alt="Drawing a sun in a virtual reality environment"></p>
<h2><a name="the-result" class="anchor" href="#the-result"><span class="header-link"></span></a>The result</h2>
<p>I uploaded my experiments. On your mobile, go to:
<a href="https://gmarty.github.io/vr-landscapes/">gmarty.github.io/vr-landscapes/</a>
Grab a Google Cardboard and insert your phone. You can change the landscape with the click button.</p>
<p><img src="http://gu.illau.me/img/landscapes-in-virtual-reality/drawings.jpg" alt="My drawings"></p>
<p>Drawing for an equirectangular projection leads to results that are hard to predict. Another technique is to draw on the 6 sides of a cube and use a software to turn this cubic texture into an equirectangular projection, but I haven&#39;t tried myself.
If you want to give it a go, you can reuse the <a href="https://github.com/gmarty/vr-landscapes">code on Github</a>. Just replace the images by yours. Then, share your creations and ideas in the comments section below.</p>
</div><div class="social"><a href="https://twitter.com/share" class="twitter-share-button">Tweet</a><div data-size="medium" data-annotation="bubble" data-width="300" class="g-plusone"></div><a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a></div><div id="comments"><div id="disqus_thread"></div></div><script>// Hacker News
(function(d, t) {
  var g = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  g.src = '//hnbutton.appspot.com/static/hn.min.js';
  s.parentNode.insertBefore(g, s);
}(document, 'script'));

// Twitter
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

// Google Plus
(function() {
  var po = document.createElement('script'); po.async = true;
  po.src = 'https://apis.google.com/js/plusone.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();

// Disqus
var disqus_shortname = 'gmarty';
(function() {
    var dsq = document.createElement('script'); dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script></div></body></html>